# Limitations of MacOS PDF routines

There are a few notes of caution that need to be stated when using the Quartz/Core Graphics APIs for PDFs in MacOS.

1. After many years of stability, the MacOS PDF routines were re-written in Sierra (10.12). The re-write contained many bugs, meaning that editing and creating PDFs on Sierra can be problematic. **Sierra should be avoided where possible for MacOS-based PDF workflows.** High Sierra seems to have made some improvements. However, the bugs are mainly in areas such as annotations, hidden text layers and outlines, which are not the focus of these scripts. The only known issue that affects the scripts is that PDFs encrypted on Sierra will have their metadata (Title, Creator, Author, etc.) corrupted. The last two characters of each field will be lost.

2. Other PDF-creating software, like Adobe Acrobat, can produce PDFs that use features not supported by MacOS (3D objects, advanced encryption and metadata, embedded scripts and files). Re-saving these documents using the PDF routines built-in to MacOS may cause the loss of those newer capabilities in the document. (The same issue is true for other apps that use the Quartz APIs, like Apple's own Preview.)

If you use MacOS's built-in software to generate PDFs and then manipulate them with the scripts here, then no problems will arise. Similarly, if your PDFs are generated by third-party software like Adobe Acrobat, but only contain those features supported by MacOS, then no problems will arise. You can ensure this by specifying a PDF version level of 1.4 when you save them. 

It is therefore worth mentioning that because many of the utilities in _PDFsuite_ create a new PDF file, and some can over-write the original, you should check whether the created files will work for you without issue. 

Again, if your PDFs do NOT originate from any other PDF-creator, then there is no problem. I use these scripts on a daily basis!

PDFs created to conform to standards like PDF/X or PDF/A, will similarly lose these characteristics when re-saved by MacOS. It is possible to re-save the PDFs with other software to restore conformity to the standard.

I hope to add python scripts that use third-party libraries to create and manipulate PDFs beyond the limitations of MacOS's routines in the near future.
